# SCSS

### Очередность написания стилей в соответствии с **БЭМ**:
1. Стилевые правила для этого селектора.
2. `@media` этого контекста.
3. Псевдоселекторы и псевдоэлементы.
4. Вложенные сторонние селекторы.
5. **БЭМ**-элементы.
6. **БЭМ**-модификаторы.

### Вложения селекторов
* Чем меньше уровней вложенности, тем лучше и читабельнее код.
* Не допускайте более 3-х уровней вложенности (псевдоэлемены, псевдоселекторы и медиа-условия не считаются увеличивающими вложенность).
* Осторожно используйте жесткое наследование.
* Всегда оставляйте пустую строку перед вложенным селектором или `@media`.
* Всегда делайте дополнительный отступ для вложений.

### Размерности
Для указания размерностей свойств вместо `px` лучше использовать миксину `rem()` из файла [`src/scss/mixins/_misc.scss`](/src/scss/mixins/_misc.scss).<br>

```scss
.example {
  width: rem(100);
  // число указывается в пикселях.
  // автоматически переведется в rem
}
```
**Для значений меньше `10px` - лучше указывать свойство сразу в пикселях.**<br>
Это позволит масштабировать сайт для больших разрешений увеличив шрифт в теге `html`.<br>

Например, увеличим масштаб для разрешения `4K (2560px)`. Для этого в файле [`src/scss/_base.scss`](/src/scss/_base.scss) добавим:
```scss
html {
  font-size: 16px;

  @include breakpoint(xxl) {
    font-size: 18px;
  }
}
```

<br>
<br>

## Медиа-стили
Переменные с брейкпоинтами и функции описаны в файле - [`src/scss/mixins/_breakpoint.scss`](/src/scss/mixins/_breakpoint.scss)

### Правила для `@media`:
* Всегда спользуйте подход **mobile-first**
    * Исключениями могут быть случаи, когда для большего разрешения нужно переопределять слишком много свойств.<br>
        Тогда проще добавить стили через `max-width`.
* Вкладывайте `@media` в селекторы, а не наоборот.
* Не вкладывайте `@media` друг в друга.
* Пишите `@media` рядом, не пишите селекторы между ними.
* Пишите условия для `@media` там, где используете `@media`, не пишите условия в переменных.

Пример использования миксины для `min-width` с указанием брейкпоинта из `$breakpoints_min`:
```scss
@include breakpoint(xs) {
  // стили
}

/*
так же в миксину можно передать кастомное значение, если оно уникально
если же значение брейкпоинта будет повторяться - лучше добавить его в список.
*/
@include breakpoint(468, true) {
  // стили
}
```

То же самое можно сделать и для `max-width`, но нужно вызывать соответствующую миксину.
```scss
@include breakpoint_max(sm) {
  // стили
}

@include breakpoint_max(1365, true) {
  // стили
}
```

Так же есть миксина для указания стилей "между" брейкпоинтами.<br>
Значения берутся **только** из списков `$breakpoints_min` и `$breakpoints_max`.<br>

**Пример:**
```scss
@include media-between(sm, sm) {
  // стили
}

// будет скомпилено в
@media (min-width: 768px) and (max-width: 1023px) {
  // стили
}
```
<br>
<br>

## Вспомогательные миксины
#### Изучите файл [`src/scss/mixins/_misc.scss`](/src/scss/mixins/_misc.scss)
Миксины простые и как с ними работать можно понять при просмотре их кода.<br>

При вызове миксин не обязательно указывать все параметры по порядку, если они вам не нужны.<br>

**Рассмотрим на примере:**
```scss
@mixin flex($flex: flex, $align:false, $justify:false, $dir:false, $wrap: false) {
  display: $flex;

  @if ($align) {
    align-items: $align;
  }

  @if ($justify) {
    justify-content: $justify;
  }

  @if ($wrap) {
    flex-wrap: $wrap;
  }

  @if ($dir) {
    flex-direction: $dir;
  }
}

// при вызове перечисляем все значения
@include flex(flex, center, space-between, row, wrap);

// или указать только нужные
@include flex(flex, $justify: center, $dir: column);
```

<br>

### Миксина для шрифтов
Значения указываются в `пикселях(px)` и автоматически будут преобразованы в `rem`.<br>
- Первым параметром указывается значение для `font-size`.
- Вторым параметром для `line-height`.
    * Если указываете целое число - оно будет преобразовано в `rem`.
    * Если дробное - останется дробным.
- Третьим для `font-weight`.

**Передавайте только те параметры которые нужны. Например:**
```scss
.example1 {
  @include fs(18, 24, 500);
}

.example2 {
  @include fs(16, 1.25);
}

.example3 {
  @include fs(30);
}
```

**Что получим на выходе в `css`:**
```css
.example1 {
  font-size: 1.125rem;
  line-height: 1.5rem;
  font-weight: 500;
}

.example2 {
  font-size: 1rem;
  line-height: 1.25;
}

.example3 {
  font-size: 1.875rem;
}
```

<br>

### Краткая запись свойства и медиа-стилей для него
Миксина `mediaProp()` служит краткой записью для удобного определения свойств на разных разрешениях.<br>

При вызове первым параметром отдается любое `css-свойство`.<br>
Далее перечисляются нужные брейкпоинты из списка [`$breakpoints_min`](/src/scss/mixins/_breakpoint.scss) и указываются значения.<br>

Так же можно указать параметр `$def` для добавления исходного значения свойства.

**Пример:**
```scss
.example {
  // запись строкой
  @include mediaProp(margin-bottom, $sm: rem(15), $md: rem(25), $xl: rem(30));

  // если параметры длинные или их много, то лучше писать в объектном стиле.
  // это повышает читабельность
  @include mediaProp(
    padding,
    $def: rem(10) rem(5),
    $sm: rem(15) rem(10),
    $lg: rem(30) rem(20)
  );

  @include mediaProp(
    transform,
    $sm: translateX(rem(-20)),
    $lg: none
  );
}
```

Скомпилированные стили после `билда` проекта:
```css
.example {
    padding: .625rem .3125rem
}

@media (min-width: 768px) {
    .example {
        margin-bottom: .9375rem;
        padding: .9375rem .625rem;
        -webkit-transform: translateX(-1.25rem);
        transform: translateX(-1.25rem)
    }
}

@media (min-width: 1024px) {
    .example {
        margin-bottom: 1.5625rem
    }
}

@media (min-width: 1280px) {
    .example {
        padding: 1.875rem 1.25rem;
        -webkit-transform: none;
        transform: none
    }
}

@media (min-width: 1920px) {
    .example {
        margin-bottom: 1.875rem
    }
}
```

<br>
<br>

## **БЭМ**-миксины
В сборщике есть миксины для соблюдения именования классов по **БЭМ**, но при этом сохраняя каскадность стилей.<br>
Их использование позволит отказаться от атрибута `scoped` у стилей и сделает разметку чище - не будет лишних `data-v-` атрибутов у элементов.

#### Рекомендуется их использовать. Но так же можно писать как обычно.

**Пример использования:**
```scss
$parent: 'example'; // указывается класс родительского блока

@include block($parent) {
  // стили для блока .example

  @include element($parent, 'element') {
    // стили для элемента
    // .example .example__element

    @include modifier($parent, 'modifier') {
      // стили для модификатора
      // .example .example__element.example__element--modifier
    }

    @include element-next($parent, 'next-element') {
      // стили для элемента следующего после .example__element
      // .example .example__element + .example__next-element
    }
  }
}
```

Если вы неправильно зададите модификатор, например, напишете его так:
```html
<div class="button button-modifier"></div>
```
**Стили к нему не применятся!**<br>
Обязательно нужно соблюдать [`стилистику именований`](/docs/03_Components.md#оформление-компонентов)
